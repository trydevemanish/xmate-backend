name: Keep Render App Alive

on:
  schedule:
    - cron: "*/10 * * * *"   
  workflow_dispatch:          

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Curl Render App
        run: curl -s https://xmate-backend.onrender.com > /dev/null

    steps:
      - name: Install redis-tools
        run: sudo apt-get install -y redis-tools

      - name: Ping Redis
        run: redis-cli -u "$REDIS_URL" ping
        env: 
          REDIS_URL: ${{ secrets.REDIS_URL }}
